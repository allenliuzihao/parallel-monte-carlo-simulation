# parallel-monte-carlo-simulation

This project provides a parallel method to estimate integral and PI using monte carlo integration. It is in part inspired by Peter Shirley's ray tracing the rest of your life online book: https://raytracing.github.io/books/RayTracingTheRestOfYourLife.html. In this book, he talked about simulating various integrals using sampling and importance sampling techniques. However, the approach there runs on only one core, whereas modern hardware generally has multiple cores that can run work in parallel to reduce overall execution time.

The idea here is to have multiple concurrent hardware threads taking in simulation requests from main thread, who distribute the work in a round-robin fashion to each worker thread to ensure balance of work, and then wait for a round of work from all threads to complete before sending new ones. With 20 virtual cores and 10 physical cores on Intel i9 CPU, this approach is able to complete 20000000 iterations (1000000 runs per thread of 20 threads) of monte carlo simulation for integrals of cosine squared over the unit sphere in 0.14 ~ 0.16 seconds. On the other hand, sequential execution of the same number of runs takes 0.32 ~ 0.35 seconds. This is a 2.0x ~ 2.5x speedup for parallel approach in this project.